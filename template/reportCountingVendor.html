<section class="content-header">
    <h1>
        Report Counting By Vendor
        <!-- <small>advanced tables</small> -->
    </h1>
</section>
<section class="content">
    <div class="box box-info">

        <!-- /.box-header -->
        <div class="box-header">
            <!-- <h3 class="box-title">Table</h3> -->
            <form class="form-inline">
                <div class="form-group">
                    <label>Start Date</label>
                    <div class="input-group">
                        <input type="text" class="form-control" datepicker-localdate uib-datepicker-popup="dd/MM/yyyy" ng-model="startDate" ng-init="user.input.startDate = user.input.startDate.toDate()" is-open="user.input.startDate.$$periodeAwalOpened" close-text="Close" alt-input-formats="['dd/MM//yyyy']" />
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="user.input.startDate.$$periodeAwalOpened = true">
                                <i class="glyphicon glyphicon-calendar"></i>
                            </button>
                        </span>
                    </div>
                </div>
                <div class="form-group">
                    <label>End Date</label>
                    <div class="input-group">
                        <input type="text" class="form-control" datepicker-localdate uib-datepicker-popup="dd/MM/yyyy" ng-model="endDate" ng-init="user.input.endDate = user.input.endDate.toDate()" is-open="user.input.endDate.$$periodeAwalOpened" close-text="Close" alt-input-formats="['dd/MM//yyyy']" />
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="user.input.endDate.$$periodeAwalOpened = true">
                                <i class="glyphicon glyphicon-calendar"></i>
                            </button>
                        </span>
                    </div>
                </div>
                <div class="form-group">
                    <label>Vendor</label>
                    <div class="input-group">
                        <select class="form-control" ng-model="form.vendor" ng-options="item.id as item.namaVendor for item in master.vendor" ng-change="getByVendor(startDate, endDate, vendor)"></select>
                    </div>
                </div>
                <div class="form-group">
                    <button class="btn btn-danger" ng-disabled="startDate==null && endDate==null" uib-tooltip="Search By Date" ng-click="getByVendor(startDate, endDate, form.vendor)"><span class="fa fa-search"></span></button>
                    <button class="btn btn-success" uib-tooltip="Export Excel" ng-click="exportToExcel('#tableToExport')"><span class="fa fa-file-excel-o"></span></button>
                </div>
                <div class="form-group" style="float: right;">
                    <label>Search</label>
                    <input type="text" ng-model="search" class="form-control" placeholder="Search">
                </div>
            </form>
        </div>
        <div class="box-body" id="tableToExport">
            <div class="table-responsive">
                <table class="table no-margin">
                    <thead>
                        <tr class="bg-primary">
                            <th>No</th>
                            <th>Date</th>
                            <th>Vendor</th>
                            <th>Menu Utama</th>
                            <th>Menu Tambahan</th>
                            <th>Sayur</th>
                            <th>Buah</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="item in listData">
                            <td>{{$index + 1}}</td>
                            <td>{{item.date}}</td>
                            <td>{{item.vendor}}</td>
                            <td>
                                {{item.menuUtama}}
                            </td>
                            <td>
                                {{item.menuTambahan}}
                            </td>
                            <td>
                                {{item.sayur}}
                            </td>
                            <td>
                                {{item.buah}}
                            </td>
                        </tr>
                    </tbody>
                </table>
                <dir-pagination-controls class="pull-right" boundary-links="true" direction-links="true">
                </dir-pagination-controls>
            </div>
            <!-- /.table-responsive -->
        </div>
        <!-- /.box-body -->
    </div>
</section>